<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Security-Policy" content="img-src 'self' data: https://imgs.search.brave.com;">
    <meta charset="utf-8" />
    <title>Reset Password</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      img {
        text-align: center;
        border-radius: 100%;
        margin-bottom: 0%;
        margin-top: 0%;
        width: 50%;
      }

      .reset-form {
        width: 50%;
        margin: 0 auto;
        margin-top: 100px;
        border: 1px solid #ccc;
        box-shadow: 0 10px 30px rgb(36, 36, 36);
      }

      .reset-form .logo-img {
        width: 400px;
        text-align: center;
      }

      .logo-img img {
        text-align: center;
        margin-left: 300px;
        border-radius: 100%;
      }

      .reset-form .head {
        font-size: 30px;
        text-align: center;
        margin-bottom: 50px;
      }

      .head h3 {
        font-size: 21px;
        color: #656464;
      }

      .input-field input {
        display: block;
        font-size: 30px;
        width: 80%;
        height: 50px;
        padding-left: 15px;
        margin: 20px 120px;
        border: 0;
        background-color: #dedcdc;
        border-radius: 20px;
        transition: transform 0.5s ease-in-out;
      }

      input::placeholder {
        color: #999;
        padding-left: 10px;
        font-size: 16px;
        font-weight: bold;
      }

      input:invalid {
        border: 1px solid red;
      }

      .reset-btn {
        text-align: center;
        margin-bottom: 50px;
      }

      .reset-btn .btn {
        width: 200px;
        height: 50px;
        background-color: #294B29;
        border: 0;
        border-radius: 15px;
        color: white;
        transition: transform 0.5s ease-in-out;
      }

      .reset-btn .btn:hover {
        transform: translatey(10px) scale(1.1);
      }

      input:hover {
        transform: scale(1.05);
      }

      /* Error message styling */
      .error {
        color: red;
        font-size: 14px;
        margin-top: 5px;
      }
    </style>
  </head>

  <body>
  <div class="reset-form">
    <div class="logo-img">
      <img src="https://imgs.search.brave.com/aptvfHK9V6-kd_9jU-zzRj--bfZbJj2A-tYHfcY5xa0/rs:fit:500:0:0/g:ce/aHR0cHM6Ly90NC5m/dGNkbi5uZXQvanBn/LzAxLzI1LzgzLzA1/LzM2MF9GXzEyNTgz/MDU4M19JT2JCSkY3/S3JOaU5XcENReHJn/UjhRWVZZM29ZWk9h/aS5qcGc" />
      <form method="post" id="form-input">
        </div <% gmail %>>
        <div class="head">
          <h1>Reset Account Password</h1>
          <h3>Enter A New Password For (<%= gmail %>)</h3>
        </div>
        <div class="input-field">
          <input id="pass" name="password" placeholder="Enter New Password" type="password" required/>
          <input id="res-pass" name="reEnterPassword" placeholder="Confirm Password" type="password" required/>
        </div>
        <div class="reset-btn">
          <div id="error" class="error"></div>
          <button class="btn" id="btn" >Reset Password</button>
        </div>
      </form>
  </div>

  <script>
    let btn = document.getElementById("btn");
    let pass = document.getElementById("pass");
    let errorDiv = document.getElementById("error");
    let reEnterpass = document.getElementById("res-pass");
    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/;
    btn.onclick = () => {
      let passwordsMatch = pass.value === reEnterpass.value;
      let isRegexMatch = passwordRegex.test(pass.value);

      if (!passwordsMatch) {
        errorDiv.textContent = "Passwords didn't match";
        errorDiv.style.display = "block";
        return false;
      } else if (!isRegexMatch) {
        errorDiv.textContent = "Password must be at least 8 characters long and contain at least one lowercase letter, one uppercase letter, and one digit.";
        errorDiv.style.display = "block";
        return false;
      }

      // Proceed with form submission
      return true;
    }
  </script>
  </body>
</html>
